{% extends "file_manager/base.html" %}

{% block content %}

<div class="jumbotron" style="background-color: #97BC8E">

  <h2>Active orders</h2>
  <nav aria-label="Page navigation">
      <ul class="pagination justify-content-end">

        {% if page.has_previous %}
          <li class="page-item"><a class="page-link" href="/orders?page={{ page.previous_page_number }}">Previous</a></li>
        {% else %}
          <li class="page-item disabled"><a class="page-link" href='#'>Previous</a></li>
        {% endif %}

        {% for num in page_obj.page_range %}

          {% if page.number == num %}
            <li class="page-item active"><a class="page-link" href="/orders?page={{ num }}">{{ num }}</a></li>
          {% else %}
            <li class="page-item"><a class="page-link" href="/orders?page={{ num }}">{{ num }}</a></li>
          {% endif %}

        {% endfor %}

        {% if page.has_next %}
          <li class="page-item"><a class="page-link" href="/orders?page={{ page.next_page_number }}">Next</a></li>
        {% else %}
          <li class="page-item disabled"><a class="page-link" href='#'>Next</a></li>
        {% endif %}
      </ul>
    </nav>

  <p></p>

    {% for order in page.object_list %}
    <div class="card w-100">
      <div class="card-body">
        <h5 class="card-title">#{{ order.invoice }} {{ order.customer }}: {{ order.date }}</h5>
        <pre class="card-text">Ship To: {{ order.delivery_street }}, {{order.delivery_apt_suite_other }}
          {{ order.delivery_city }}, {{ order.delivery_state }} {{ order.delivery_zip_code }}</pre>
          <p>Total: ${{ order.total_price }}0</p>
        <a href="/{{ order.invoice }}" class="btn btn-primary">View Order</a>
        <a href="/update_order/{{ order.id }}" class="btn btn-outline-dark">Update</a>
        <a href="/delete_order/{{ order.id }}" class="btn btn-outline-danger">Delete</a>
      </div>
    </div>

    {% endfor %}

  <p></p>

    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-end">

        {% if page.has_previous %}
          <li class="page-item"><a class="page-link" href="/orders?page={{ page.previous_page_number }}">Previous</a></li>
        {% else %}
          <li class="page-item disabled"><a class="page-link" href='#'>Previous</a></li>
        {% endif %}

        {% for num in page_obj.page_range %}

          {% if page.number == num %}
            <li class="page-item active"><a class="page-link" href="/orders?page={{ num }}">{{ num }}</a></li>
          {% else %}
            <li class="page-item"><a class="page-link" href="/orders?page={{ num }}">{{ num }}</a></li>
          {% endif %}

        {% endfor %}

        {% if page.has_next %}
          <li class="page-item"><a class="page-link" href="/orders?page={{ page.next_page_number }}">Next</a></li>
        {% else %}
          <li class="page-item disabled"><a class="page-link" href='#'>Next</a></li>
        {% endif %}
      </ul>
    </nav>
</div>


{% endblock content %}